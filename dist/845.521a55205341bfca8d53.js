"use strict";(self.webpackChunkreact_webpack=self.webpackChunkreact_webpack||[]).push([[845],{1845:function(e,t,o){o.r(t),o.d(t,{default:function(){return g}});var a=o(7294),n=o(9250),s=o(6706),r=o(4801),i=o(9151),c=o(6752),d=o(4388),u={},l=o(5893);const m=()=>{const{id:e}=(0,n.UO)(),{data:t,isLoading:o}=r.oV.useGetOneDialogQuery({id:e},{pollingInterval:1e4}),{auth:m}=(0,s.useSelector)(i.Hz),{data:g,isLoading:p}=r.iJ.useGetUserSinglPageQuery(m._id,{pollingInterval:1e4}),[h,{}]=r.oV.useAddCommentUpdateMutation(),[w,{}]=r.oV.useRemoveCommentUpdateMutation(),[C,{}]=r.oV.useDeleteDialogMutation(),f=(0,n.s0)(),{pathname:k}=(0,n.TH)(),v=k.match(/\w+/i),_=v&&v[0];return a.useEffect((()=>{g&&!p&&e&&!g.dialogs.includes(e)&&f("/post")}),[g]),(0,l.jsxs)("div",{className:u.root,children:[e&&_&&t&&!o&&(0,l.jsx)(c.HW,{target:{_id:e,category:_},removeCommentTarget:w,addComment:h,arrComments:t.comments}),(0,l.jsx)(d.K1,{onClick:()=>(async()=>{if(t&&!o&&e){const o={dialogId:e,userOneId:t.userOne._id,userTwoId:t.userTwo._id,commentArr:t.comments};await C(o).unwrap().then((()=>{f("/post")})).catch((e=>console.log(e)))}})(),bgColor:"red",children:"Удалить диалог"})]})},g=a.memo(m)}}]);