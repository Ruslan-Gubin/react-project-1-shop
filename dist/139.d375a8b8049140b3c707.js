"use strict";(self.webpackChunkreact_webpack=self.webpackChunkreact_webpack||[]).push([[139],{9139:function(e,s,c){c.r(s),c.d(s,{default:function(){return p}});var n=c(7607),r=c(7294),i={"test-p":"HHX3fYZQsIeGdwZVtfwH",root:"dDwuyFtTqGoYMoqNUKmM",CircleContainer:"dwGA77K5kTUnNFsONMuE",CircleValue:"ClW4oicTjLPN2UIqnN2P",CircleContainerActive:"lzDOfMXOzAEhbXANx8lQ"},l=c(5893);const a=e=>{let{updateActive:s,level:c,handlerClickCircle:n,mine:r}=e;return(0,l.jsx)("div",{className:i.container,children:r&&n&&s?(0,l.jsx)("div",{onClick:()=>n(r),className:`${i.rootActive} ${i.root}`,children:(0,l.jsx)("div",{className:`${i.CircleContainerActive} ${i.CircleContainer}`,children:(0,l.jsx)("div",{className:i.CircleValue,children:c})})}):(0,l.jsx)("div",{className:i.root,children:(0,l.jsx)("div",{className:i.CircleContainer,children:(0,l.jsx)("div",{className:i.CircleValue,children:c})})})})};c(2717),c(8232);var t=c(8816),d={"test-p":"E6CHeT1ryvOa9IbZ0RSm",root:"kuQgkHfoL8aBVT_QXxBG",circle:"RjUSqzdTwUQP_5bFjtCH"};const o=e=>{let{mine:s,handlerIronValue:c,mineInfo:i,handlerClickCircle:o}=e;const m=r.useRef(null),[v,u]=r.useState(!1);r.useEffect((()=>{const e=(0,t.Vv)(s,n.XW,n.Uv);u(e)}),[]);const h=()=>c(s),x=()=>c(i);return r.useEffect((()=>{if(!m.current)return;const e=m.current;return e.addEventListener("mouseenter",h),e.addEventListener("mouseleave",x),function(){e.removeEventListener("mouseenter",h),e.removeEventListener("mouseleave",x)}}),[]),(0,l.jsxs)("div",{ref:m,className:d.root,children:[(0,l.jsx)("img",{className:d.image,src:s.imag,alt:"resorce field"}),(0,l.jsx)("div",{className:d.circle,children:s&&(0,l.jsx)(a,{handlerClickCircle:o,mine:s,updateActive:v,level:s.level})})]})};var m={root:"UepbnisyWSpsBJ1L_Fq8",mine:"eaFvpK7EvYXBvhpjTvkN"};const v=e=>{let{handlerIronValue:s,minesArray:c,mineInfo:n,handlerClickCircle:r}=e;return(0,l.jsx)("div",{className:m.root,children:(0,l.jsx)("div",{className:m.mines,children:(0,l.jsx)("ul",{className:m.mine,children:c.map((e=>(0,l.jsx)("li",{children:(0,l.jsx)(o,{mineInfo:n,handlerIronValue:s,mine:e,handlerClickCircle:r})},e.id)))})})})};c(9384),c(4983);var u={root:"rykEgndP9wP_rcIG4ARW",container:"xPIdFK3hz2tMiwzHaRbs",title:"kZV3N09YgiX4JqXScmz_",text:"CvuXxlEEqZdI0LeVIQ6V",updateInfo:"zJaYCkqMEwsJKQbvYbYn",population:"VG7sYEJx0CL2zQt7mtVH",refreshIcon:"MgfATJ5DF79hPofKETSO",updateIcon:"hipPrRLHRtwPBtnHugyr",timeUpdate:"EyBaGTiL0_ZRrzTIG45f",icons:"vB82qpDHCxpJsvkb6ojm",resurce:"zHSoFXMicyz6v3AFnFLU",needResurce:"WmCiMRPuMiU3D1r6zMcc"};const h=e=>{let{minesInfo:s,nextLevelMineUpdate:c}=e;const[i,d]=r.useState(s.level+1),[o,m]=r.useState(t.cp.dateEndUpdateFormat(c.time));return r.useEffect((()=>{d(s.level+1),m(t.cp.dateEndUpdateFormat(c.time))}),[s]),(0,l.jsx)("div",{className:u.root,children:(0,l.jsxs)("div",{className:u.container,children:[(0,l.jsx)("h2",{className:u.title,children:s.title}),(0,l.jsx)("p",{className:u.text,children:"Увеличение производства"}),(0,l.jsxs)("div",{className:u.updateInfo,children:[(0,l.jsx)("div",{className:u.level,children:(0,l.jsx)(a,{level:s.level,updateActive:!1})}),(0,l.jsxs)("div",{className:u.population,children:[(0,l.jsx)("img",{src:n.Kc.population,alt:"icon population"}),(0,l.jsx)("span",{children:s.piple})]}),(0,l.jsx)("div",{className:u.incom,children:(0,l.jsxs)("span",{children:[s.income,"/ч"]})}),(0,l.jsx)("div",{className:u.refreshIcon,children:(0,l.jsx)("img",{src:n.Kc.refresh,alt:"refresh icon"})}),(0,l.jsx)("div",{className:u.incom,children:(0,l.jsxs)("span",{children:[c.income,"/ч"]})}),(0,l.jsxs)("div",{className:u.population,children:[(0,l.jsx)("img",{src:n.Kc.population,alt:"icon population"}),(0,l.jsx)("span",{children:c.piple})]}),(0,l.jsx)("div",{className:u.nextLevel,children:(0,l.jsx)(a,{level:i,updateActive:!1})})]}),(0,l.jsxs)("div",{className:u.timeUpdate,children:[(0,l.jsx)("img",{src:n.Kc.clock,alt:"icon clock"}),(0,l.jsxs)("span",{children:["Время строительства:",t.cp.vievDate(c.time)]})]}),(0,l.jsx)("div",{className:u.endUpdateDate,children:(0,l.jsxs)("span",{children:["Завершится строительство в: ",o]})}),(0,l.jsxs)("div",{className:u.icons,children:[(0,l.jsxs)("div",{className:u.resurce,children:[(0,l.jsx)("img",{src:n.Kc.wood,alt:"Icon resurce"}),(0,l.jsx)("span",{className:u.needResurce,children:c.wood})]}),(0,l.jsxs)("div",{className:u.resurce,children:[(0,l.jsx)("img",{src:n.Kc.clay,alt:"Icon resurce"}),(0,l.jsx)("span",{className:u.needResurce,children:c.clay})]}),(0,l.jsxs)("div",{className:u.resurce,children:[(0,l.jsx)("img",{src:n.Kc.iron,alt:"Icon resurce"}),(0,l.jsx)("span",{className:u.needResurce,children:c.iron})]}),(0,l.jsxs)("div",{className:u.resurce,children:[(0,l.jsx)("img",{src:n.Kc.wheat,alt:"Icon resurce"}),(0,l.jsx)("span",{className:u.needResurce,children:c.wheat})]})]})]})})};var x={"test-p":"iGnbOP_GQFQVFErfESkl"};const p=()=>{const[e,s]=r.useState(n.rL[0]),[c,i]=r.useState({wood:0,iron:0,clay:0,wheat:0,time:0,piple:0,level:0});return(0,l.jsxs)("div",{className:x.root,children:[e&&(0,l.jsx)(h,{nextLevelMineUpdate:c,minesInfo:e}),e&&(0,l.jsx)(v,{minesArray:n.rL,handlerClickCircle:e=>{console.log(e)},handlerIronValue:e=>{const c=e.resorse,r=e.level,l=(0,t.rP)(n.Uv,c,r+1);i(l),s(e)},mineInfo:e})]})}}}]);