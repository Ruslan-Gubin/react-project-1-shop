"use strict";(self.webpackChunkreact_webpack=self.webpackChunkreact_webpack||[]).push([[673],{64721:function(e,a,s){s.r(a),s.d(a,{default:function(){return b}});var t=s(67294),r=s(62325),c=s(70712),n=s(70216),u="eUqZr8JxNVWd_Uy0VEEw",o=s(86706),l=s(73939),d=s(45418),i=s(89250),h=s(85893);const b=()=>{const{order:e}=(0,o.useSelector)(l.zT);let[a,s]=t.useState({userData:{},basket:[]});const[b,y]=t.useState(!1),[x,{status:k}]=d.fi.useBuyProductMutation(),p=(0,i.s0)(),w=(0,o.useDispatch)();return(0,h.jsxs)("div",{className:"WcIM1KuI1cisxFRvBKI5",children:[(0,h.jsx)(r.Xq,{className:"ldCvtniDJVG_J3fwqXK0",text:" ",children:(0,h.jsx)("img",{src:c.ci.arrowLeft,alt:"arrow left"})}),(0,h.jsxs)("div",{className:"frn6qb3SM79lsySG1aq3",children:[(0,h.jsx)("h2",{className:b?u:"bllV2kKmGxnWx6_g0L4H eUqZr8JxNVWd_Uy0VEEw",children:"User data"}),(0,h.jsx)("h2",{className:b?"bllV2kKmGxnWx6_g0L4H eUqZr8JxNVWd_Uy0VEEw":u,children:"Payment Details"})]}),b?(0,h.jsx)(n.F6,{handlerPaymentByCard:async e=>{const s=[];if(a.basket&&a.basket.forEach((e=>{s.push({id:e._id,counter:e.counter})})),e){const t=a.userData;t.bayer=e,await x({product:s,buyer:t}).unwrap().then((async()=>{p("/products"),w(l.Dg.clearOrder())})).catch((e=>console.log(e)))}}}):(0,h.jsx)(n.l0,{handlerPaymentByCourier:async t=>{s((()=>a={userData:t,basket:[...e]}));const r=[];a.basket&&a.basket.forEach((e=>{r.push({id:e._id,counter:e.counter})}));const c=a.userData;c.bayer="courier",await x({product:r,buyer:c}).unwrap().then((async()=>{p("/products"),w(l.Dg.clearOrder())})).catch((e=>console.log(e)))},onSubmit:t=>{s((()=>a={userData:t,basket:[...e]})),a.userData&&a.basket&&y(!0)}})]})}}}]);