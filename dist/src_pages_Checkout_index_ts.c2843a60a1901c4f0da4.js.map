{"version":3,"file":"src_pages_Checkout_index_ts.c2843a60a1901c4f0da4.js","mappings":"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","sources":["webpack://react-webpack/./src/pages/Checkout/Checkout.tsx","webpack://react-webpack/./src/pages/Checkout/index.ts","webpack://react-webpack/./src/pages/Checkout/Checkout.module.scss","webpack://react-webpack/./src/pages/Checkout/Checkout.module.scss?e081"],"sourcesContent":["import React from \"react\";\r\nimport { ButtonGoBack } from \"ui\";\r\nimport { icons } from \"data\";\r\nimport { ChekoutDataUser, Payment } from \"components\";\r\n\r\nimport styles from \"./Checkout.module.scss\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { orderAction, selectOrder } from \"store/slice\";\r\nimport { IDataUserChecout } from \"App/components/ChekoutDataUser/ChekoutDataUser\";\r\nimport { productsApi } from \"store/rtkQuery\";\r\nimport { BuyerType } from \"models\";\r\nimport { useNavigate } from \"react-router-dom\";\r\n\r\ninterface userDataType {\r\n  userData: BuyerType;\r\n  basket?: { _id: string; counter: number }[];\r\n}\r\n\r\nconst Checkout = () => {\r\n  const { order } = useSelector(selectOrder);\r\n  \r\n  let [userData, setUserData] = React.useState<userDataType>({  userData: {},  basket: [], });\r\n  const [visaCardActive, setVisaCardActive] = React.useState(false);\r\n  const [setBuyProduct, { status: statusBuy }] = productsApi.useBuyProductMutation();\r\n  const navigate = useNavigate()\r\n  const dispatch = useDispatch()\r\n\r\n  const onSubmit = (values: IDataUserChecout) => {\r\n    setUserData(() => (userData = { userData: values, basket: [...order] }));\r\n    if (userData.userData && userData.basket) {\r\n      setVisaCardActive(true);\r\n    }\r\n  };\r\n\r\n\r\nconst handlerPaymentByCard = async (value: string) => {\r\n  const productBuy: { id: string | undefined; counter: number }[] = [];\r\n  userData.basket &&\r\n  userData.basket.forEach((item) => {\r\n    productBuy.push({ id: item._id, counter: item.counter });\r\n  });\r\n    if (value) {\r\n      const buyer = userData.userData;\r\n      buyer.bayer = value;\r\n      await setBuyProduct({ product: productBuy, buyer })\r\n      .unwrap()\r\n      .then(async() => {\r\n         navigate('/products')\r\n        dispatch(orderAction.clearOrder())\r\n      })\r\n      .catch((error) => console.log(error));\r\n    }\r\n  };\r\n  \r\n  const handlerPaymentByCourier = async (values: IDataUserChecout) => {\r\n    setUserData(() => (userData = { userData: values, basket: [...order] }));\r\n    const productBuy: { id: string | undefined; counter: number }[] = [];\r\n    userData.basket &&\r\n    userData.basket.forEach((item) => {\r\n      productBuy.push({ id: item._id, counter: item.counter });\r\n    });\r\n    const buyer = userData.userData;\r\n    buyer.bayer = \"courier\";\r\n    await setBuyProduct({ product: productBuy, buyer })\r\n    .unwrap()\r\n    .then(async() => {\r\n       navigate('/products')\r\n      dispatch(orderAction.clearOrder())\r\n    })\r\n    .catch((error) => console.log(error));\r\n  };\r\n  \r\n  \r\n  return (\r\n    <div className={styles.root}>\r\n      <ButtonGoBack className={styles.goBack} text={\" \"}>\r\n        <img src={icons.arrowLeft} alt=\"arrow left\" />\r\n      </ButtonGoBack>\r\n      <div className={styles.titles}>\r\n        <h2\r\n          className={\r\n            visaCardActive\r\n            ? styles.title\r\n              : `${styles.titleActive} ${styles.title}`\r\n          }\r\n        >\r\n          User data\r\n        </h2>\r\n        <h2\r\n          className={\r\n            !visaCardActive\r\n              ? styles.title\r\n              : `${styles.titleActive} ${styles.title}`\r\n          }\r\n        >\r\n          Payment Details\r\n        </h2>\r\n      </div>\r\n      {!visaCardActive ? (\r\n        <ChekoutDataUser\r\n        handlerPaymentByCourier={handlerPaymentByCourier}\r\n          onSubmit={onSubmit}\r\n        />\r\n      ) : (\r\n        <Payment handlerPaymentByCard={handlerPaymentByCard} />\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport { Checkout };\r\n\r\nexport type { userDataType };\r\n","export {Checkout as default} from './Checkout';","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../../node_modules/css-loader/dist/runtime/sourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, \".WcIM1KuI1cisxFRvBKI5 .ldCvtniDJVG_J3fwqXK0 {\\n  background-color: rgba(168, 168, 168, 0);\\n  height: 40px;\\n  width: 40px;\\n  margin-right: 20px;\\n}\\n\\n.WcIM1KuI1cisxFRvBKI5 .frn6qb3SM79lsySG1aq3 {\\n  display: flex;\\n  justify-content: space-around;\\n}\\n.WcIM1KuI1cisxFRvBKI5 .frn6qb3SM79lsySG1aq3 .eUqZr8JxNVWd_Uy0VEEw {\\n  font-size: 2rem;\\n  color: #a1a1a1;\\n  text-align: center;\\n}\\n.WcIM1KuI1cisxFRvBKI5 .frn6qb3SM79lsySG1aq3 .bllV2kKmGxnWx6_g0L4H {\\n  color: #ECE9E6;\\n  border-bottom: 1px solid #ECE9E6;\\n}\", \"\",{\"version\":3,\"sources\":[\"webpack://./src/scss/common/exented/arrowBack.scss\",\"webpack://./src/pages/Checkout/Checkout.module.scss\",\"webpack://./src/scss/common/var/fontsize.scss\",\"webpack://./src/scss/common/var/color.scss\"],\"names\":[],\"mappings\":\"AACA;EACE,wCAAA;EACI,YAAA;EACA,WAAA;EACA,kBAAA;ACAN;;AAOI;EACE,aAAA;EACA,6BAAA;AAJN;AAKM;EACE,eCbkB;EDclB,cERU;EFSV,kBAAA;AAHR;AAKM;EACE,cEhBQ;EFiBR,gCAAA;AAHR\",\"sourcesContent\":[\"\\r\\n%arrowBack {\\r\\n  background-color:rgba(168, 168, 168, 0);\\r\\n      height: 40px;\\r\\n      width: 40px;\\r\\n      margin-right: 20px;\\r\\n}\",\"@use '../../scss/common/exented';\\r\\n@use 'scss/common/var';\\r\\n\\r\\n\\r\\n\\r\\n.root{\\r\\n\\r\\n  \\r\\n    .goBack {\\r\\n      @extend %arrowBack;\\r\\n    }\\r\\n\\r\\n    .titles{\\r\\n      display: flex;\\r\\n      justify-content: space-around;\\r\\n      .title{\\r\\n        font-size: var.$font-size-title-normal;\\r\\n        color: var.$color-dark-grey;\\r\\n        text-align: center;\\r\\n      }\\r\\n      .titleActive{\\r\\n        color: var.$color-card-bg;\\r\\n        border-bottom: 1px solid var.$color-card-bg;\\r\\n      }\\r\\n    }\\r\\n\\r\\n  \\r\\n    \\r\\n    \\r\\n  }\",\"$font-size-average:  1.6rem;\\r\\n$font-size-button:  1.3rem;\\r\\n$font-size-card-text:  1.1rem;\\r\\n$font-size-title-normal:  2rem;\\r\\n$font-size-header-link:  1.7rem;\\r\\n$font-size-basket-rools:  1rem;\",\"$light: #f9fafb;\\r\\n$white: #fff;\\r\\n$color-white: #fff;\\r\\n$c80: #808080;\\r\\n$ccb: #cbcccd;\\r\\n$color-card-bg: #ECE9E6;\\r\\n$red-light: #e75555;\\r\\n$header-color: #fbcd08;\\r\\n$color-text-logo: #761719;\\r\\n$color-dark-grey: #a1a1a1;\\r\\n$color-error-light: #f25b6b;\\r\\n$color-error-dark: #d65c5c;\\r\\n$color-blue: #3199dc;\\r\\n$color-blue-black: #02609f;\\r\\n$color-green: #198754;\\r\\n$color-green-hover: #13653f;\\r\\n$color-green-black: rgb(5, 80, 5);\\r\\n$color-green-light: rgb(79, 220, 79);\\r\\n$color-red: #dc3545;\\r\\n$color-red-hover: #a52834;\\r\\n$color-red-black: #5c0e0e;\\r\\n$color-red-light: #e15a5a;\\r\\n$color-red-hover-light: #db0b0b;\\r\\n$color-white-red: #ab5959;\\r\\n$color-primary: #0d6efd;\\r\\n$color-primary-hover: #0a53be;\\r\\n$color-primary-opasiti: #0d6dfd78;\\r\\n$color-orange: rgb(255, 166, 0);\\r\\n$color-orange-hover: rgb(219, 148, 17);\\r\\n$color-orange-light: rgb(153, 101, 5);\\r\\n$color-orange-dark: rgb(92, 89, 33);\\r\\n$color-orange-black: rgb(241, 190, 95);\\r\\n$color-header-bg-dark: #25252bfa;\\r\\n$color-input-search: #464646;\\r\\n$color-secondary: #6c757d;\\r\\n$color-secondary-hover: #51585e;\\r\\n$color-yellow: #ffc107;\\r\\n$color-yellow-hover: #ffcd39;\\r\\n$color-black: #212529;\\r\\n$color-black-hover: #373b3e;\\r\\n$color-info: #0dcaf0;\\r\\n$color-info-hover: #29aec8;\\r\\n$color-info-hover-black: #21a0ba;\\r\\n$color-info-nobg: #0dcaf000;\\r\\n$color-info-nobg-hover: #0dcaf015;\\r\\n$color-gold-text:rgb(139, 120, 105);\\r\\n\"],\"sourceRoot\":\"\"}]);\n// Exports\n___CSS_LOADER_EXPORT___.locals = {\n\t\"root\": \"WcIM1KuI1cisxFRvBKI5\",\n\t\"goBack\": \"ldCvtniDJVG_J3fwqXK0\",\n\t\"titles\": \"frn6qb3SM79lsySG1aq3\",\n\t\"title\": \"eUqZr8JxNVWd_Uy0VEEw\",\n\t\"titleActive\": \"bllV2kKmGxnWx6_g0L4H\"\n};\nexport default ___CSS_LOADER_EXPORT___;\n","\n      import API from \"!../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n      import domAPI from \"!../../../node_modules/style-loader/dist/runtime/styleDomAPI.js\";\n      import insertFn from \"!../../../node_modules/style-loader/dist/runtime/insertBySelector.js\";\n      import setAttributes from \"!../../../node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js\";\n      import insertStyleElement from \"!../../../node_modules/style-loader/dist/runtime/insertStyleElement.js\";\n      import styleTagTransformFn from \"!../../../node_modules/style-loader/dist/runtime/styleTagTransform.js\";\n      import content, * as namedExport from \"!!../../../node_modules/css-loader/dist/cjs.js!../../../node_modules/postcss-loader/dist/cjs.js??ruleSet[1].rules[2].use[2]!../../../node_modules/sass-loader/dist/cjs.js!./Checkout.module.scss\";\n      \n      \n\nvar options = {};\n\noptions.styleTagTransform = styleTagTransformFn;\noptions.setAttributes = setAttributes;\n\n      options.insert = insertFn.bind(null, \"head\");\n    \noptions.domAPI = domAPI;\noptions.insertStyleElement = insertStyleElement;\n\nvar update = API(content, options);\n\n\n\nexport * from \"!!../../../node_modules/css-loader/dist/cjs.js!../../../node_modules/postcss-loader/dist/cjs.js??ruleSet[1].rules[2].use[2]!../../../node_modules/sass-loader/dist/cjs.js!./Checkout.module.scss\";\n       export default content && content.locals ? content.locals : undefined;\n"],"names":["React","ButtonGoBack","icons","ChekoutDataUser","Payment","styles","useDispatch","useSelector","orderAction","selectOrder","productsApi","useNavigate","Checkout","order","userData","setUserData","useState","basket","visaCardActive","setVisaCardActive","setBuyProduct","status","statusBuy","useBuyProductMutation","navigate","dispatch","onSubmit","values","handlerPaymentByCard","value","productBuy","forEach","item","push","id","_id","counter","buyer","bayer","product","unwrap","then","clearOrder","catch","error","console","log","handlerPaymentByCourier","root","goBack","arrowLeft","titles","title","titleActive","default"],"sourceRoot":""}